(this["webpackJsonpgames-frontend"]=this["webpackJsonpgames-frontend"]||[]).push([[0],{29:function(e){e.exports=JSON.parse('[{"key":"_1","name":"Country","answer":""},{"key":"_2","name":"Capital city","answer":""},{"key":"_3","name":"Animal","answer":""},{"key":"_4","name":"Vegetable/Fruit","answer":""},{"key":"_5","name":"Movie name","answer":""},{"key":"_6","name":"Car brand","answer":""},{"key":"_7","name":"Singer/band","answer":""}]')},55:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(47),s=a.n(r),o=a(5),i=(a(55),a(3)),j=a(0);var l=function(e){return Object(j.jsx)("div",{className:"blog-item",children:Object(j.jsx)(o.b,{to:e.id,children:e.name})})},u=[{id:"categories",name:"Categories",url:"categories"},{id:"pictureguess",name:"Picture Guess",url:"picture-guess"}];var b=function(){return Object(j.jsxs)("div",{className:"blog-list",children:[Object(j.jsx)("div",{className:"about-message",children:Object(j.jsx)("p",{children:"Click an option below to start a game!"})}),u.map((function(e){return Object(j.jsx)(l,{id:e.id,name:e.name})}))]})};var d=function(){return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)(o.b,{className:"header-item",to:"/",children:"Tom Davenport"}),Object(j.jsx)(o.b,{className:"header-item",to:"/",children:"Return to game list"})]})},O=a(2),m=a(9),g=a(29),h=a(93);function p(e,t){var a="categories-game-"+e,c=Object(n.useState)((function(){var e=localStorage.getItem(a);return"undefined"===e?"":null!=e?JSON.parse(e):"function"===typeof t?t():t})),r=Object(O.a)(c,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){localStorage.setItem(a,JSON.stringify(s))}),[a,s]),[s,o]}var f=function(e,t){switch(t.type){case"REMOVE_ITEM":return Object(m.a)(Object(m.a)({},e),{},{list:e.list.filter((function(e){return e.key!==t.key}))});case"ADD_ITEM":return Object(m.a)(Object(m.a)({},e),{},{list:e.list.concat({name:t.name,key:t.key,answer:""})});case"UPDATE_ITEM":return Object(m.a)(Object(m.a)({},e),{},{list:e.list.map((function(e){return t.key===e.key?Object(m.a)(Object(m.a)({},e),{},{name:t.name}):e}))});case"RESET_LIST":return Object(m.a)(Object(m.a)({},e),{},{list:g});default:throw new Error}};function x(){return String.fromCharCode(65+Math.floor(26*Math.random()))}var w=function(){var e=Object(n.useState)(x()),t=Object(O.a)(e,2),a=t[0],c=t[1],r=Object(n.useReducer)(f,{list:g}),s=Object(O.a)(r,2),o=s[0],l=s[1],u=Object(n.useState)(!1),b=Object(O.a)(u,2),d=b[0],m=b[1],w=Object(n.useState)(!1),y=Object(O.a)(w,2),v=y[0],I=y[1],C=Object(i.f)(),D=p("gameID",""),k=Object(O.a)(D,2),S=k[0],N=k[1],L=p("userName",""),E=Object(O.a)(L,2),T=E[0],A=E[1],_=p("gameData",{}),M=Object(O.a)(_,2),P=(M[0],M[1]),R=p("playerData",{}),F=Object(O.a)(R,2),J=(F[0],F[1]),B=p("gameSessionID",""),G=Object(O.a)(B,2),V=G[0],z=G[1],U=p("userID",""),q=Object(O.a)(U,2),W=q[0],Y=q[1],H=p("returning",!1),K=Object(O.a)(H,2),Q=K[0],X=K[1],Z=p("playerList",[]),$=Object(O.a)(Z,2),ee=($[0],$[1]);return Object(n.useEffect)((function(){return P({categories:o.list,gameLetter:a})}),[o]),Object(j.jsxs)("div",{className:"project",children:[Object(j.jsx)("p",{children:"A multiplayer game - find a word that starts with the following letter for each category!"}),Object(j.jsxs)("p",{children:["Letter to guess : ",Object(j.jsx)("span",{className:"gameLetter",id:"gameLetter",children:a})]}),Object(j.jsx)("button",{id:"newLetter",onClick:function(){!function(){var e=x();c(e),P({categories:o.list,gameLetter:e})}()},children:"Change letter"}),Object(j.jsx)("p",{children:"As the game leader, it's up to you to set the game up!"}),Object(j.jsx)("p",{children:"Click a category to change the name, or the button to remove it. "}),Object(j.jsx)("p",{children:"1. (Optional) Change or add more categories:"}),o.list.map((function(e){return Object(j.jsxs)("div",{className:"category",children:[Object(j.jsx)("input",{type:"text",id:e.key,defaultValue:e.name,onChange:function(e){return l({type:"UPDATE_ITEM",key:(t=e).target.id,name:t.target.value}),void P({categories:o.list,gameLetter:a});var t}}),Object(j.jsx)("button",{onClick:function(){return t=e.key,l({type:"REMOVE_ITEM",key:t}),void P({categories:o.list,gameLetter:a});var t},children:"Remove"})]})})),Object(j.jsx)("button",{type:"button",onClick:function(){return console.log("clicked handle"),l({type:"ADD_ITEM",key:Object(h.a)()}),void P({categories:o.list,gameLetter:a})},children:" Add category "}),Object(j.jsx)("button",{type:"button",onClick:function(){return console.log("clicked reset"),l({type:"RESET_LIST"}),void P({categories:o.list,gameLetter:a})},children:" Reset to default "}),Object(j.jsx)("p",{className:v?"showError":"hideError",children:"Please have at least one category before continuing."}),Object(j.jsx)("p",{children:"2. Enter your user name:"}),Object(j.jsx)("input",{type:"text",id:"username",placeholder:"Add username",onChange:function(e){!function(e){A(e.target.value);var t=W||Object(h.a)(),n=V||Object(h.a)(),c=S||(Math.floor(1e6*Math.random())+1e5).toString(),r=Q||!1;N(c),z(n),X(r),Y(t),ee([{userID:W,userName:e.target.value,gameLeader:!0}]),J({userID:W,userName:e.target.value,gameLeader:!0}),P({categories:o.list,gameLetter:a})}(e)},value:T}),Object(j.jsx)("p",{className:d?"showError":"hideError",children:"Please enter a username before continuing."}),Object(j.jsx)("p",{children:"3. Click start game:"}),Object(j.jsx)("button",{className:"start-game",onClick:function(e){P({categories:o.list,gameLetter:a}),I(0===o.list.length),m(!T),0!==o.list.length&&T&&C.push({pathname:"/categories-waiting-room"})},children:"Start Game"})]})};var y=function(e){var t=Object(i.f)(),a=Object(n.useState)(!1),c=Object(O.a)(a,2),r=c[0],s=c[1],o=p("gameID",""),l=Object(O.a)(o,2),u=(l[0],l[1]),b=p("userName",""),d=Object(O.a)(b,2),m=d[0],g=d[1],f=p("userID",""),x=Object(O.a)(f,2),w=x[0],y=x[1],v=p("returning",""),I=Object(O.a)(v,2),C=I[0],D=I[1],k=p("playerData",{}),S=Object(O.a)(k,2),N=(S[0],S[1]),L=p("playerList",[]),E=Object(O.a)(L,2),T=(E[0],E[1]);return Object(j.jsxs)("div",{className:"project",children:[Object(j.jsx)("h1",{children:"Join game"}),Object(j.jsx)("p",{children:"Enter a username:"}),Object(j.jsx)("input",{type:"text",id:"username",placeholder:"Add username",onChange:function(t){!function(t){g(t.target.value);var a=w||Object(h.a)(),n=C||!1,c=e.location.pathname.split("/").reverse()[0];u(c),D(n),y(a),T([{userID:w,userName:t.target.value}]),N({userID:w,userName:t.target.value})}(t)},value:m}),Object(j.jsx)("p",{className:r?"showError":"hideError",children:"Please enter a username before continuing."}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){return s(!m),void(m&&t.push({pathname:"/categories-waiting-room"}))},children:"Join game"})]})},v=a(49),I=["localhost","127.0.0.1",""].includes(window.location.hostname)?"http://localhost:8000/":"https://tom-games.azurewebsites.net/";console.log(I+"categories");var C=Object(v.io)("https://tom-games.azurewebsites.net/categories"),D=c.a.createContext(C);var k=function(e){var t=Object(n.useContext)(D),a=Object(n.useState)(""),c=Object(O.a)(a,2),r=c[0],s=c[1],o=Object(i.f)(),l=p("gameID"),u=Object(O.a)(l,2),b=u[0],d=(u[1],p("userName")),m=Object(O.a)(d,2),g=(m[0],m[1],p("gameData")),h=Object(O.a)(g,2),f=h[0],x=h[1],w=p("playerData"),y=Object(O.a)(w,2),v=y[0],I=(y[1],p("gameSessionID")),C=Object(O.a)(I,2),k=C[0],S=(C[1],p("userID")),N=Object(O.a)(S,2),L=(N[0],N[1],p("returning")),E=Object(O.a)(L,2),T=(E[0],E[1],p("playerList")),A=Object(O.a)(T,2),_=A[0],M=A[1],P=Object(n.useState)(!1),R=Object(O.a)(P,2),F=(R[0],R[1]),J=Object(n.useCallback)((function(){F(!0),console.log(!0)}),[]),B=Object(n.useCallback)((function(e){M(e.playerList),x(e.gameData)}),[]),G=Object(n.useCallback)((function(e){o.push({pathname:"/categories-game-room"})}),[]),V=Object(n.useCallback)((function(){console.log("START!"),t.emit("send-start",{gameID:b}),t.emit("start-timer",{gameID:b})}),[]);return Object(n.useEffect)((function(){return t.on("connect",(function(){console.log("connected categories")})),b&&(console.log("joining room"),t.emit("join",{gameID:b,playerData:v,gameSessionID:k,gameData:f})),t.on("joined-room",J),t.on("new-player",B),t.on("start-game",G),function(){t.off("joined-room",J),t.off("new-player",B),t.off("start-game",G)}}),[t,J,B,G]),Object(j.jsxs)("div",{className:"project",children:[Object(j.jsx)("h1",{children:"Categories"}),Object(j.jsx)("h4",{children:"Waiting room"}),Object(j.jsx)("p",{children:"A multiplayer game - find a word that starts with the following letter for each category!"}),Object(j.jsxs)("p",{children:["Your game id is: ",Object(j.jsx)("span",{className:"gameID",children:b})]}),Object(j.jsx)("button",{onClick:function(e){!function(e){var t=["localhost","127.0.0.1",""].includes(window.location.hostname)?"http://localhost:3000":"https://tomd-ai.github.io";navigator.clipboard.writeText("".concat(t,"/games-frontend#/join-categories/").concat(b)),e.target.focus(),s("Copied!")}(e)},children:"Click to copy direct link"}),Object(j.jsx)("p",{children:r}),Object(j.jsx)("p",{children:"Current players:"}),Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{}),Object(j.jsx)("tbody",{children:_.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:[t+1,"."]}),Object(j.jsx)("td",{children:e.userName}),Object(j.jsx)("td",{children:e.gameLeader?" (Game leader)":""})]},e.userID)}))})]}),0==_.length?Object(j.jsxs)(j.Fragment,{children:[" Can't see any other players? ",Object(j.jsx)("button",{onClick:function(){window.location.reload()},children:"Refresh"}),"  "]}):Object(j.jsx)(j.Fragment,{}),v.gameLeader&&Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"3. Click start game:"}),Object(j.jsx)("button",{className:"start-game",onClick:function(){V()},children:"Start Game"})]})]})};var S=function(e){var t=Object(i.f)(),a=Object(n.useContext)(D),c=p("gameID"),r=Object(O.a)(c,2),s=r[0],o=(r[1],p("userName")),l=Object(O.a)(o,2),u=l[0],b=(l[1],p("gameData")),d=Object(O.a)(b,2),m=d[0],g=(d[1],p("playerData")),h=Object(O.a)(g,2),f=(h[0],h[1],p("gameSessionID")),x=Object(O.a)(f,2),w=(x[0],x[1],p("userID")),y=Object(O.a)(w,2),v=y[0],I=(y[1],p("returning")),C=Object(O.a)(I,2),k=(C[0],C[1],p("playerList")),S=Object(O.a)(k,2),N=(S[0],S[1],Object(n.useState)("")),L=Object(O.a)(N,2),E=L[0],T=L[1],A=Object(n.useState)(""),_=Object(O.a)(A,2),M=_[0],P=_[1],R=Object(n.useState)(m.categories),F=Object(O.a)(R,2),J=F[0],B=F[1],G=Object(n.useState)(m.gameLetter),V=Object(O.a)(G,2),z=V[0],U=(V[1],Object(n.useState)(!1)),q=Object(O.a)(U,2),W=q[0],Y=q[1],H=Object(n.useCallback)((function(){console.log(" handle send answers"),Y(!0),a.emit("send-answers",{gameID:s,userID:v,userName:u,answers:J,stopBus:!0}),t.push({pathname:"/categories-scoring"})}),[]),K=Object(n.useCallback)((function(e){T(e.minutes),P(e.seconds),0==e.minutes&&0==e.seconds&&Q()}),[]),Q=Object(n.useCallback)((function(){a.emit("send-answers",{gameID:s,userID:v,userName:u,answers:J,stopBus:!1}),t.push({pathname:"/categories-scoring"})}),[]);return Object(n.useEffect)((function(){return a.on("send-answers",Q),a.on("timer-tick",K),a.on("end-game",Q),function(){a.off("send-answers",Q),a.off("timer-tick",K),a.off("end-game",Q)}}),[a,Q,K]),Object(j.jsxs)("div",{className:"project",children:[Object(j.jsx)("h1",{children:"Let's play"}),Object(j.jsxs)("p",{children:["Time left: ",E?E.toString()+" minute":""," ",M?M.toString()+" seconds":"Game ended"]}),Object(j.jsx)("p",{children:"Enter something for each category that starts with:"}),Object(j.jsx)("p",{children:Object(j.jsx)("span",{className:"gameLetter",style:{fontSize:"55px"},children:z})}),Object(j.jsxs)("table",{style:{paddingBottom:"20px"},children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Category"}),Object(j.jsx)("th",{children:"Answer"}),Object(j.jsx)("th",{})]}),J.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:Object(j.jsx)("input",{type:"text",id:e.key,defaultValue:e.answer?e.answer:"",onChange:function(e){return function(e){var t,a=0;t=J.map((function(t){return e.target.id==t.key?(t.answer=e.target.value,a+=t.answer&&t.answer.charAt(0).toLowerCase()===z.toLowerCase()?1:0):t.answer&&(a+=t.answer&&t.answer.charAt(0).toLowerCase()===z.toLowerCase()?1:0),t})),a==J.length?Y(!0):Y(!1),B(t)}(e)}})}),Object(j.jsx)("td",{children:Object(j.jsxs)("p",{className:e.answer&&e.answer.charAt(0).toLowerCase()!==z.toLowerCase()?"showError":"hideError",children:["Category has to start with ",z,"!"]})})]})})),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{}),Object(j.jsx)("td",{children:W?Object(j.jsx)("button",{id:"stop",onClick:function(){return H()},children:"Stop!"}):Object(j.jsx)(j.Fragment,{})}),Object(j.jsx)("td",{})]})]})]})};var N=function(e){var t=Object(i.f)(),a=Object(n.useContext)(D),c=p("gameID"),r=Object(O.a)(c,2),s=r[0],o=(r[1],p("userName")),l=Object(O.a)(o,2),u=(l[0],l[1],p("gameData")),b=Object(O.a)(u,2),d=b[0],m=(b[1],p("playerData")),g=Object(O.a)(m,2),h=g[0],f=(g[1],p("gameSessionID")),x=Object(O.a)(f,2),w=x[0],y=(x[1],p("userID")),v=Object(O.a)(y,2),I=(v[0],v[1],p("returning")),C=Object(O.a)(I,2),k=C[0],S=C[1],N=p("playerList"),L=Object(O.a)(N,2),E=(L[0],L[1],Object(n.useState)(d.categories)),T=Object(O.a)(E,2),A=T[0],_=(T[1],Object(n.useState)([])),M=Object(O.a)(_,2),P=M[0],R=M[1],F=Object(n.useState)([]),J=Object(O.a)(F,2),B=J[0],G=J[1],V=Object(n.useState)([]),z=Object(O.a)(V,2),U=z[0],q=z[1],W=Object(n.useCallback)((function(e){R(e)}),[]),Y=Object(n.useCallback)((function(e){q(e.rowIds),G(e.userScores)}),[]),H=Object(n.useCallback)((function(e,t,n){a.emit("mark-answer",{gameID:s,rowId:n,colInd:t,rowInd:e})}),[]),K=Object(n.useCallback)((function(){a.emit("request-new-game",{gameID:s}),console.log(k),k=S(!0),t.push({pathname:"/categories"})}),[]),Q=Object(n.useCallback)((function(){S(!0),t.push({pathname:"/categories-waiting-room"})}),[]);return Object(n.useEffect)((function(){return console.log(P),0==P.length&&(console.log("doing this once"),a.emit("join",{gameID:s,playerData:h,gameSessionID:w,gameData:d}),a.emit("get-all-answers",{gameID:s})),a.on("get-answers",W),a.on("update-scores",Y),a.on("start-new-game",Q),function(){a.off("get-answers",W),a.off("update-scores",Y),a.off("start-new-game",Q)}}),[a,W,Y,Q]),Object(n.useEffect)((function(){console.log(P)}),[P]),Object(j.jsxs)("div",{className:"project",children:[Object(j.jsx)("h1",{children:"Time to score!"}),Object(j.jsx)("p",{children:"The game leader will now mark the answers:"}),Object(j.jsxs)("table",{children:[Object(j.jsxs)("thead",{children:[Object(j.jsx)("th",{children:"Category"}),P.map((function(e){return Object(j.jsx)("th",{children:e.userName?e.userName:0})}))]}),Object(j.jsx)("tbody",{children:A.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),P.map((function(e,a){return Object(j.jsx)("td",{id:"rowIndIS".concat(t.toString(),"ANDcolIndIS").concat(a.toString()),onClick:function(){h.gameLeader&&H(a,t,"rowIndIS".concat(t.toString(),"ANDcolIndIS").concat(a.toString()))},className:U.includes("rowIndIS"+t.toString()+"ANDcolIndIS"+a.toString())?"accepted":"",children:e.answers[t].answer})}))]})}))}),Object(j.jsx)("tfoot",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Score"}),P.map((function(e,t){return Object(j.jsx)("th",{children:B.map((function(t){if(t.userID==e.userID)return t.score}))})}))]})})]}),h.gameLeader?Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"Play again?"}),Object(j.jsx)("button",{onClick:function(){K()},children:"New game"})]}):Object(j.jsx)(j.Fragment,{})]})};var L=function(){return Object(j.jsxs)("div",{className:"project",children:[Object(j.jsx)("p",{children:"This is picture guess"}),Object(j.jsx)("p",{children:"TBC..."})]})};a(91);var E=function(){return Object(j.jsx)(D.Provider,{value:C,children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"header",children:Object(j.jsx)(d,{})}),Object(j.jsx)("div",{className:"main-content",children:Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",component:b}),Object(j.jsx)(i.a,{path:"/categories",component:w}),Object(j.jsx)(i.a,{exact:!0,path:"/join-categories/:gameID",component:y}),Object(j.jsx)(i.a,{path:"/categories-waiting-room",component:k}),Object(j.jsx)(i.a,{path:"/categories-game-room",component:S}),Object(j.jsx)(i.a,{path:"/categories-scoring",component:N}),Object(j.jsx)(i.a,{path:"/picture-guess",component:L})]})})]})})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,94)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(E,{})})}),document.getElementById("root")),T()}},[[92,1,2]]]);
//# sourceMappingURL=main.0513f6b6.chunk.js.map